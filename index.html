<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday Shabdali üéâ</title>
  <style>
    :root{
      --fossil-1:#e7e3da;
      --fossil-2:#d6d0c5;
      --accent-white:#ffffff;
    }
    html,body{
      height:100%;
      margin:0;
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background: linear-gradient(180deg, #1b1b1b 0%, #2a2a2a 100%);
    }
    body{
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    .stage{
      width:980px;
      max-width:96vw;
      min-height:720px;
      background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.02));
      border-radius:18px;
      padding:28px;
      box-shadow:0 30px 80px rgba(0,0,0,0.12);
      position:relative;
      overflow:hidden;
    }

    /* Confetti canvas */
    #confetti{
      position:absolute;
      left:0;
      top:0;
      width:100%;
      height:100%;
      pointer-events:none;
      z-index:6;
    }

    .top{
      text-align:center;
      z-index:12;
      position:relative;
      margin-top:6px;
    }
    .title{
      font-size:3rem;
      margin:6px 0;
      font-weight:700;
      color: #ffffff;
      font-family:"Times New Roman", serif;
    }

    .center-col{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:18px;
      z-index:12;
      position:relative;
    }

    /* GOLD LANDSCAPE PHOTO FRAME */
    .photo-frame{
      width:360px;
      height:220px;
      border-radius:18px;
      overflow:hidden;
      border:4px solid #ffd700;
      box-shadow:0 0 14px rgba(255,215,0,0.7),
                 0 0 28px rgba(255,215,0,0.4),
                 inset 0 0 10px rgba(255,215,0,0.6),
                 inset 0 0 20px rgba(255,200,0,0.4);
      background:linear-gradient(180deg,rgba(255,255,255,0.08),rgba(0,0,0,0.08));
      transform-origin:center;
      animation:floatPic 4.4s ease-in-out infinite;
    }
    .photo-frame img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    @keyframes floatPic{
      0%{ transform:translateY(0) }
      50%{ transform:translateY(-8px) }
      100%{ transform:translateY(0) }
    }

    .wishes{
      max-width:760px;
      text-align:center;
      font-size:1.05rem;
      line-height:1.45;
      color:#ffffff;
      padding:6px 12px;
      font-family:"Times New Roman", serif;
    }

    .cake{
      width:220px;
      margin:18px auto 0;
      position:relative;
      z-index:11;
    }
    .candle{
      position:absolute;
      left:50%;
      transform:translateX(-50%);
      top:-36px;
      width:8px;
      height:34px;
      border-radius:4px;
      background:linear-gradient(180deg,#fff,#ffdede);
      cursor:pointer;
    }
    .flame{
      position:absolute;
      top:-16px;
      left:50%;
      transform:translateX(-50%);
      width:14px;
      height:22px;
      border-radius:50%;
      background: radial-gradient(circle at 35% 30%, #fff4a3 0%, #ffdd55 12%, #ff6a00 45%, rgba(255,90,0,0) 60%);
      animation:flame 900ms infinite ease-in-out;
    }
    @keyframes flame{
      0%{transform:translateX(-50%) translateY(0) rotate(-10deg)}
      50%{transform:translateX(-50%) translateY(-3px) rotate(-8deg)}
      100%{transform:translateX(-50%) translateY(0) rotate(-10deg)}
    }

    .controls{
      position:absolute;
      right:20px;
      top:18px;
      display:flex;
      gap:8px;
      z-index:14;
    }
    .btn{
      background:rgba(0,0,0,0.38);
      padding:9px 11px;
      border-radius:999px;
      cursor:pointer;
      color:#fff;
      font-weight:700;
      border:1px solid rgba(255,255,255,0.22);
      backdrop-filter: blur(10px);
      font-size:0.9rem;
      display:flex;
      align-items:center;
      justify-content:center;
      min-width:40px;
      transition:transform 0.16s ease, box-shadow 0.16s ease, background 0.16s ease;
      box-shadow:0 4px 12px rgba(0,0,0,0.22);
      user-select:none;
    }
    .btn:hover{
      transform:translateY(-2px);
      box-shadow:0 7px 18px rgba(0,0,0,0.28);
      background:rgba(0,0,0,0.55);
    }

    .flower-field{
      position:absolute;
      left:0;
      right:0;
      bottom:0;
      height:260px;
      z-index:8;
      pointer-events:none;
      background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,0.06));
      display:flex;
      align-items:flex-end;
      justify-content:center;
      gap:6px;
      padding:14px;
    }
    .flower-strip{
      width:100%;
      max-width:1200px;
      display:flex;
      flex-wrap:nowrap;
      gap:8px;
      justify-content:center;
      align-items:flex-end;
      overflow:hidden;
    }
    .flower-card{
      width:86px;
      height:120px;
      display:flex;
      align-items:flex-end;
      justify-content:center;
      position:relative;
      transform-origin:center bottom;
    }

    .butterfly{
      position:absolute;
      top:-26px;
      left:50%;
      transform:translateX(-50%) scale(0.9);
      width:42px;
      height:42px;
      pointer-events:none;
      opacity:0.98;
      animation:butter 6s ease-in-out infinite;
    }
    .butterfly:nth-child(odd){
      animation-duration:5.6s;
    }
    @keyframes butter{
      0%{ transform:translateX(-50%) translateY(0) rotate(-6deg) }
      50%{ transform:translateX(-50%) translateY(-8px) rotate(6deg) }
      100%{ transform:translateX(-50%) translateY(0) rotate(-6deg) }
    }

    /* audio status (small + auto hide) */
    #audioStatus{
      position:fixed;
      left:12px;
      top:12px;
      z-index:99999;
      background:rgba(0,0,0,0.6);
      color:#fff;
      padding:6px 10px;
      border-radius:8px;
      font-family:monospace;
      font-size:12px;
      opacity:0.9;
      transition:opacity 0.3s ease;
    }

    @media (max-width:620px){
      .stage{
        padding:18px;
        min-height:720px;
      }
      .title{
        font-size:1.9rem;
      }
      .photo-frame{
        width:300px;
        height:170px;
      }
      .wishes{
        font-size:0.98rem;
        max-width:92vw;
      }
      .flower-field{
        height:180px;
      }
      .flower-card{
        width:64px;
        height:92px;
      }
      .butterfly{
        width:30px;
        height:30px;
        top:-18px;
      }
      .cake{
        margin-top:12px;
      }
    }
  </style>
</head>
<body>

  <!-- AUDIO: make sure this file is in the same folder as this HTML -->
  <audio id="bgMusic" src="until_found_you.mp3" loop preload="auto"></audio>

  <!-- small status to show audio state (auto-hides) -->
  <div id="audioStatus">audio: initialising‚Ä¶</div>

  <div class="stage" id="stage">
    <canvas id="confetti"></canvas>

    <div class="controls">
      <div class="btn" id="musicBtn" title="Play / Pause music">üéµ</div>
      <div class="btn" id="confettiBtn" title="Toggle confetti">üéä</div>
    </div>

    <div class="top" role="banner" aria-labelledby="titleText">
      <div class="title" id="titleText">
        Happiest Birthday <span style="font-weight:900">Shabdali ü§ç</span>
      </div>
    </div>

    <div class="center-col" style="margin-top:6px; z-index:12;">
      <div class="photo-frame" aria-hidden="true">
        <img src="usphoto.JPG" alt="usphoto">
      </div>

      <div class="wishes" id="wishesText">
        <h2 style="margin:0;">
          Happy Birthday Shabdali [ Moon ü§ç ] I hope today surrounds you in all the love and warmth you deserve, 
          You are the reason of my smile nowadays, You are the melody in my silence and the peace in my storms and
          I‚Äôm grateful to have you in my life,
           May your day be as wonderful and sweet as you are and Lots of love üíó‚ú®ü´∂üèª
        </h2>
      </div>
    </div>

    <div class="cake" aria-hidden="true">
      <div class="candle" id="candle"><div class="flame" aria-hidden="true"></div></div>
      <div class="layer" style="height:36px;border-radius:10px;background:linear-gradient(180deg,#fff9fb,#ffdfee);box-shadow:0 6px 20px rgba(0,0,0,0.08)"></div>
      <div class="frost" style="height:18px;margin-top:-8px;border-radius:8px;background:linear-gradient(180deg,#fff,#ffe6fb)"></div>
      <div class="layer" style="margin-top:6px;height:36px;border-radius:10px;background:linear-gradient(180deg,#fff5f8,#ffdbea)"></div>
    </div>

    <!-- FULL FLOWER FIELD -->
    <div class="flower-field" aria-hidden="true">
      <div class="flower-strip" id="flowerStrip">
        <div class="flower-card" data-color="red">
          <svg viewBox="0 0 64 96" width="86" height="120" xmlns="http://www.w3.org/2000/svg">
            <rect x="30" y="40" width="6" height="56" rx="3" fill="#2e5f36"/>
            <path d="M24 66c-8 6-8 12 0 14" fill="#2e5f36" opacity="0.95"/>
            <circle cx="33" cy="20" r="16" fill="#e22f3b"/>
            <path d="M26 18c0-6 6-10 12-10 0 0-3 4 0 8-3 2-8 2-12 2z" fill="#c62a33" opacity="0.95"/>
          </svg>
          <div class="butterfly" aria-hidden="true">
            <svg viewBox="0 0 64 64" width="42" height="42" xmlns="http://www.w3.org/2000/svg">
              <g transform="translate(8,6) scale(0.8)">
                <path d="M12 6c-6-2-10 6-6 10 6 6 12 0 12 0s6 6 12 0c4-4 0-12-6-10-4 1-6 3-12 0z" fill="#ffbfdd"/>
                <circle cx="12" cy="12" r="2" fill="#6b2f5a"/>
              </g>
            </svg>
          </div>
        </div>

        <div class="flower-card" data-color="pink">
          <svg viewBox="0 0 64 96" width="86" height="120" xmlns="http://www.w3.org/2000/svg">
            <rect x="30" y="40" width="6" height="56" rx="3" fill="#2e5f36"/>
            <path d="M24 66c-8 6-8 12 0 14" fill="#2e5f36" opacity="0.95"/>
            <circle cx="33" cy="20" r="16" fill="#ff7aa2"/>
            <path d="M26 18c0-6 6-10 12-10 0 0-3 4 0 8-3 2-8 2-12 2z" fill="#ff4f83" opacity="0.95"/>
          </svg>
          <div class="butterfly" aria-hidden="true">
            <svg viewBox="0 0 64 64" width="42" height="42" xmlns="http://www.w3.org/2000/svg">
              <g transform="translate(6,6) scale(0.8)">
                <path d="M12 6c-6-2-10 6-6 10 6 6 12 0 12 0s6 6 12 0c4-4 0-12-6-10-4 1-6 3-12 0z" fill="#ffd9b8"/>
                <circle cx="12" cy="12" r="2" fill="#5a2b2b"/>
              </g>
            </svg>
          </div>
        </div>

        <div class="flower-card" data-color="yellow">
          <svg viewBox="0 0 64 96" width="86" height="120" xmlns="http://www.w3.org/2000/svg">
            <rect x="30" y="40" width="6" height="56" rx="3" fill="#2e5f36"/>
            <path d="M24 66c-8 6-8 12 0 14" fill="#2e5f36" opacity="0.95"/>
            <circle cx="33" cy="20" r="16" fill="#ffd24d"/>
            <path d="M26 18c0-6 6-10 12-10 0 0-3 4 0 8-3 2-8 2-12 2z" fill="#ffc22f" opacity="0.95"/>
          </svg>
          <div class="butterfly" aria-hidden="true">
            <svg viewBox="0 0 64 64" width="42" height="42" xmlns="http://www.w3.org/2000/svg">
              <g transform="translate(6,6) scale(0.8)">
                <path d="M12 6c-6-2-10 6-6 10 6 6 12 0 12 0s6 6 12 0c4-4 0-12-6-10-4 1-6 3-12 0z" fill="#fff2f6"/>
                <circle cx="12" cy="12" r="2" fill="#4a2b50"/>
              </g>
            </svg>
          </div>
        </div>

        <div class="flower-card" data-color="white">
          <svg viewBox="0 0 64 96" width="86" height="120" xmlns="http://www.w3.org/2000/svg">
            <rect x="30" y="40" width="6" height="56" rx="3" fill="#2e5f36"/>
            <path d="M24 66c-8 6-8 12 0 14" fill="#2e5f36" opacity="0.95"/>
            <circle cx="33" cy="20" r="16" fill="#ffffff"/>
            <path d="M26 18c0-6 6-10 12-10 0 0-3 4 0 8-3 2-8 2-12 2z" fill="#f2f2f2" opacity="0.95"/>
          </svg>
          <div class="butterfly" aria-hidden="true">
            <svg viewBox="0 0 64 64" width="42" height="42" xmlns="http://www.w3.org/2000/svg">
              <g transform="translate(6,6) scale(0.8)">
                <path d="M12 6c-6-2-10 6-6 10 6 6 12 0 12 0s6 6 12 0c4-4 0-12-6-10-4 1-6 3-12 0z" fill="#ffd9e6"/>
                <circle cx="12" cy="12" r="2" fill="#3b2b3b"/>
              </g>
            </svg>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script>
    /* --------------------------
       Confetti
       --------------------------- */
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let W, H;

    function resizeCanvas(){
      W = canvas.width = canvas.clientWidth;
      H = canvas.height = canvas.clientHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    const colors = ['#ffd166','#ff6b6b','#8fd3ff','#c7ffcd','#ffb3d9','#9d7cff'];

    class Confetto{
      constructor(){ this.reset(); }
      reset(){
        this.x = Math.random()*W;
        this.y = -10 - Math.random()*H*0.2;
        this.w = 6 + Math.random()*10;
        this.h = 10 + Math.random()*14;
        this.vx = -2 + Math.random()*4;
        this.vy = 2 + Math.random()*6;
        this.age = 0;
        this.ttl = 80 + Math.random()*120;
        this.color = colors[(Math.random()*colors.length)|0];
        this.spin = Math.random()*6;
        this.rot = Math.random()*Math.PI*2;
      }
      update(){
        this.x += this.vx;
        this.y += this.vy;
        this.rot += 0.06 * (this.spin>3?1:-1);
        this.age++;
        if(this.age>this.ttl || this.y>H+40) this.reset();
      }
      draw(){
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.rot);
        ctx.fillStyle = this.color;
        ctx.fillRect(-this.w/2, -this.h/2, this.w, this.h);
        ctx.restore();
      }
    }

    const confetti = [];
    for(let k=0;k<90;k++) confetti.push(new Confetto());
    let confettiPlaying = true;

    function confettiLoop(){
      if(!confettiPlaying) return;
      ctx.clearRect(0,0,W,H);
      for(let c of confetti){
        c.update();
        c.draw();
      }
      requestAnimationFrame(confettiLoop);
    }
    confettiLoop();

    document.getElementById('confettiBtn').addEventListener('click', ()=>{
      confettiPlaying = !confettiPlaying;
      if(confettiPlaying) confettiLoop();
    });

    /* --------------------------
       Duplicate flowers to fill width
       --------------------------- */
    (function fillFlowers(){
      const strip = document.getElementById('flowerStrip');
      if(!strip) return;
      const target = Math.ceil(window.innerWidth / 96) + 8;
      const baseCards = Array.from(strip.querySelectorAll('.flower-card'));
      let i = 0;
      while(strip.children.length < target && baseCards.length){
        const clone = baseCards[i % baseCards.length].cloneNode(true);
        clone.style.transform = `scale(${0.9 + Math.random()*0.28}) translateY(${Math.random()*8}px)`;
        clone.style.rotate = `${(Math.random()*8)-4}deg`;
        strip.appendChild(clone);
        i++;
      }
    })();

    /* --------------------------
       Butterflies flutter
       --------------------------- */
    (function flutterButterflies(){
      function nudge(){
        document.querySelectorAll('.butterfly').forEach(b => {
          const offset = (Math.random()*40) - 20;
          b.style.transform =
            `translateX(${offset}%) translateY(${(Math.random()*-8)}px) rotate(${(Math.random()*12)-6}deg) scale(${0.9 + Math.random()*0.15})`;
          b.style.transition = 'transform 1.4s ease-in-out';
        });
      }
      setInterval(nudge, 2200);
      nudge();
    })();

    /* --------------------------
       Candle click sparkle
       --------------------------- */
    const candle = document.getElementById('candle');
    if(candle){
      candle.style.cursor = 'pointer';
      candle.addEventListener('click', ()=> {
        candle.animate(
          [
            {transform:'translateY(0)'},
            {transform:'translateY(-6px)'},
            {transform:'translateY(0)'}
          ],
          {duration:420, easing:'cubic-bezier(.24,.9,.2,1)'}
        );
        const flame = candle.querySelector('.flame');
        if(flame) flame.animate(
          [
            {filter:'blur(0.2px) drop-shadow(0 4px 6px rgba(255,150,50,0.25))'},
            {filter:'blur(1.6px) drop-shadow(0 8px 22px rgba(255,170,20,0.4))'}
          ],
          {duration:380, direction:'alternate', iterations:4}
        );
      });
    }

    /* --------------------------
       Music controls
       --------------------------- */
    const music = document.getElementById('bgMusic');
    const musicBtn = document.getElementById('musicBtn');
    const statusEl = document.getElementById('audioStatus');

    function setStatus(text){
      if(!statusEl) return;
      statusEl.textContent = 'audio: ' + text;
    }

    function hideStatusLater(){
      if(!statusEl) return;
      setTimeout(()=>{ statusEl.style.opacity = '0'; }, 1800);
      setTimeout(()=>{ statusEl.style.display = 'none'; }, 2400);
    }

    function updateMusicButton(){
      if(!musicBtn || !music) return;
      musicBtn.textContent = music.paused ? 'Play' : 'üéµ';
    }

    if(music){
      music.volume = 1;

      // Try autoplay on load (may be blocked; that's okay)
      window.addEventListener('load', () => {
        setStatus('trying autoplay‚Ä¶');
        music.play()
          .then(() => {
            setStatus('playing (autoplay ok)');
            updateMusicButton();
            hideStatusLater();
          })
          .catch(() => {
            setStatus('tap üéµ to start music');
            updateMusicButton();
          });
      });

      // Manual toggle via button
      if(musicBtn){
        musicBtn.addEventListener('click', () => {
          if(music.paused){
            music.play()
              .then(() => {
                setStatus('playing');
                updateMusicButton();
                hideStatusLater();
              })
              .catch(() => {
                setStatus('could not play ‚Äî check file path');
              });
          } else {
            music.pause();
            setStatus('paused');
            updateMusicButton();
          }
        });
      }

      music.addEventListener('error', (ev) => {
        console.error('Audio error', ev);
        setStatus('audio error ‚Äî check file name/path');
      });
    } else {
      setStatus('no audio element found');
    }

  </script>
</body>
</html>

